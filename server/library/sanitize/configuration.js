const svgTags = require("svg-tags");

module.exports = {
  allowProtocolRelative: false,
  allowedAttributes: {
    ...svgTags
      .filter(tag => tag !== "script" && tag !== "style" && tag !== "svg")
      .reduce((tags, tag) => {
        tags[tag] = ["*"];
        return tags;
      }, {}),

    "*": ["dir", "id"], // IDs allowed for in-page hash navigation.
    a: ["href"],
    audio: ["controls", "src"],
    iframe: ["height", "src", "width"],
    img: ["alt", "height", "src", "srcset", "width"],
    source: ["media", "src", "srcset", "type"],
    span: ["class"], // Preserves syntax highlighting classes.

    // No idea why camelcase `viewBox` is stripped without allowing lowercase `viewbox`.
    svg: ["height", "preserveAspectRatio", "viewBox", "viewBox", "viewbox", "width", "x", "y"],
    track: ["default", "kind", "label", "src", "srclang"],
    video: ["controls", "height", "poster", "src", "width"],

  },
  allowedSchemes: ["http", "https"],
  allowedSchemesByTag: {
    img: [
      "data",
      "http",
      "https",
    ],
  },
  allowedTags: [
    ...svgTags.filter(tag => tag !== "style" && tag !== "script"),
    "a",
    "abbr",
    "aside",
    "audio",
    "b",
    "blockquote",
    "button",
    "caption",
    "cite",
    "code",
    "dd",
    "del",
    "details",
    "dfn",
    "dl",
    "dt",
    "em",
    "figcaption",
    "figure",
    "footer",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "i",
    "iframe",
    "img",
    "ins",
    "legend",
    "li",
    "mark",
    "meter",
    "ol",
    "p",
    "picture",
    "pre",
    "progress",
    "q",
    "rp",
    "rt",
    "ruby",
    "s",
    "samp",
    "span",
    "source",
    "strike",
    "strong",
    "sub",
    "svg",
    "summary",
    "sup",
    "table",
    "tabset",
    "tbody",
    "td",
    "tfoot",
    "th",
    "thead",
    "time",
    "title",
    "tr",
    "track",
    "ul",
    "var",
    "video",
  ],
};
